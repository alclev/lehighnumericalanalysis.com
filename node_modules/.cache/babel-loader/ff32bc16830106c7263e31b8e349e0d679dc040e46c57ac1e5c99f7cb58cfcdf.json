{"ast":null,"code":"import _slicedToArray from\"/Users/alexclevenger/lehighnumericalanalysis.com/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Demo(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),worker=_useState2[0],setWorker=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),result=_useState4[0],setResult=_useState4[1];useEffect(function(){var worker=new Worker('./workers/add.js',{type:'module'});worker.onerror=function(error){console.error('Worker error:',error);};console.log('Worker created:',worker);setWorker(worker);worker.onmessage=function(e){console.log('Worker received message:',e);setResult(e.data);};return function(){worker.terminate();};},[]);var add=function add(a,b){if(!worker){return'Loading...';}console.log('postMessage:',a,b);worker.postMessage([a,b]);};useEffect(function(){add(2,3);},[worker]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"WebAssembly Example\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"2 + 3 = \",result===null?'Loading...':result]})]});}export default Demo;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Demo","_useState","_useState2","_slicedToArray","worker","setWorker","_useState3","_useState4","result","setResult","Worker","type","onerror","error","console","log","onmessage","e","data","terminate","add","a","b","postMessage","className","children"],"sources":["/Users/alexclevenger/lehighnumericalanalysis.com/src/demo.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nfunction Demo() {\n  const [worker, setWorker] = useState(null);\n  const [result, setResult] = useState(null);\n\n  useEffect(() => {\n    const worker = new Worker('./workers/add.js', { type: 'module' });\n    worker.onerror = (error) => {\n      console.error('Worker error:', error);\n    };\n    console.log('Worker created:', worker);\n    setWorker(worker);\n\n    worker.onmessage = (e) => {\n      console.log('Worker received message:', e);\n      setResult(e.data);\n    };\n\n    return () => {\n      worker.terminate();\n    };\n  }, []);\n\n  const add = (a, b) => {\n    if (!worker) {\n      return 'Loading...';\n    }\n\n    console.log('postMessage:', a, b);\n    worker.postMessage([a, b]);\n  };\n\n  useEffect(() => {\n    add(2, 3);\n  }, [worker]);\n\n  return (\n    <div className=\"App\">\n      <h1>WebAssembly Example</h1>\n      <p>2 + 3 = {result === null ? 'Loading...' : result}</p>\n    </div>\n  );\n}\n\nexport default Demo;\n"],"mappings":"sIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACd,IAAAC,SAAA,CAA4BP,QAAQ,CAAC,IAAI,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,IAAAI,UAAA,CAA4BZ,QAAQ,CAAC,IAAI,CAAC,CAAAa,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAnCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IAExBZ,SAAS,CAAC,UAAM,CACd,GAAM,CAAAS,MAAM,CAAG,GAAI,CAAAM,MAAM,CAAC,kBAAkB,CAAE,CAAEC,IAAI,CAAE,QAAS,CAAC,CAAC,CACjEP,MAAM,CAACQ,OAAO,CAAG,SAACC,KAAK,CAAK,CAC1BC,OAAO,CAACD,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACvC,CAAC,CACDC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAEX,MAAM,CAAC,CACtCC,SAAS,CAACD,MAAM,CAAC,CAEjBA,MAAM,CAACY,SAAS,CAAG,SAACC,CAAC,CAAK,CACxBH,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAEE,CAAC,CAAC,CAC1CR,SAAS,CAACQ,CAAC,CAACC,IAAI,CAAC,CACnB,CAAC,CAED,MAAO,WAAM,CACXd,MAAM,CAACe,SAAS,EAAE,CACpB,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAC,GAAG,CAAG,QAAN,CAAAA,GAAGA,CAAIC,CAAC,CAAEC,CAAC,CAAK,CACpB,GAAI,CAAClB,MAAM,CAAE,CACX,MAAO,YAAY,CACrB,CAEAU,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEM,CAAC,CAAEC,CAAC,CAAC,CACjClB,MAAM,CAACmB,WAAW,CAAC,CAACF,CAAC,CAAEC,CAAC,CAAC,CAAC,CAC5B,CAAC,CAED3B,SAAS,CAAC,UAAM,CACdyB,GAAG,CAAC,CAAC,CAAE,CAAC,CAAC,CACX,CAAC,CAAE,CAAChB,MAAM,CAAC,CAAC,CAEZ,mBACEL,KAAA,QAAKyB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClB5B,IAAA,OAAA4B,QAAA,CAAI,qBAAmB,EAAK,cAC5B1B,KAAA,MAAA0B,QAAA,EAAG,UAAQ,CAACjB,MAAM,GAAK,IAAI,CAAG,YAAY,CAAGA,MAAM,GAAK,GACpD,CAEV,CAEA,cAAe,CAAAR,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}